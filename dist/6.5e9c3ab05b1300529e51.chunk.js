webpackJsonp([6],{1013:function(t,e,n){var i=n(1014);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(32)("8c28406e",i,!1)},1014:function(t,e,n){var i=n(447);e=t.exports=n(31)(!1),e.push([t.i,"\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-top-30 {\n  margin-top: 30px;\n}\n.margin-top-40 {\n  margin-top: 40px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-15 {\n  margin-bottom: 15px;\n}\n.margin-bottom-20 {\n  margin-bottom: 20px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.padding-bottom-10 {\n  padding-bottom: 10px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-150px {\n  height: 150px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-460px {\n  height: 460px;\n}\n.height-492px {\n  height: 492px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.bottom-line {\n  border-bottom: 1px solid #e9eaec;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n[v-cloak] {\n  display: none;\n}\n.demo-spin-icon-load {\n  -webkit-animation: ani-demo-spin 1s linear infinite;\n          animation: ani-demo-spin 1s linear infinite;\n}\n@-webkit-keyframes ani-demo-spin {\nfrom {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n}\n50% {\n    -webkit-transform: rotate(180deg);\n            transform: rotate(180deg);\n}\nto {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n}\n}\n@keyframes ani-demo-spin {\nfrom {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n}\n50% {\n    -webkit-transform: rotate(180deg);\n            transform: rotate(180deg);\n}\nto {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n}\n}\n.dish-wrap {\n  margin-bottom: 10px;\n}\n.dish-img {\n  width: 100%;\n  height: 100%;\n  border-radius: 3px;\n}\n.dish-img-wrapper {\n  height: 70px;\n  width: 70px;\n  margin: auto;\n  background: url("+i(n(453))+") no-repeat;\n  background-size: 30px 30px;\n  background-position: center center;\n  border: 1px dashed lightgray;\n  border-radius: 3px;\n}\n.dish-finished-true {\n  color: #19be6b;\n}\n.dish-finished-false {\n  color: #2d8cf0;\n}\n.dish-urge {\n  color: #ed3f14;\n}\n.dish-quantity {\n  color: #80848f;\n}\n",""])},1015:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"order"},[t.spinShow?n("Spin",{attrs:{fix:""}},[n("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"load-c",size:"18"}}),t._v(" "),n("div",[t._v("加载中...")])],1):t._e(),t._v(" "),n("Row",[n("i-col",{attrs:{span:"24"}},[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"android-contact"}}),t._v("\n                    查看订单\n                ")],1),t._v(" "),n("Row",[n("Input",{staticStyle:{width:"200px"},attrs:{icon:"search",placeholder:"请输入订单号搜索..."},on:{"on-change":t.handleSearch},model:{value:t.searchId,callback:function(e){t.searchId=e},expression:"searchId"}})],1),t._v(" "),n("Row",{staticClass:"margin-top-30"},[n("i-col",{attrs:{span:"24"}},[n("Table",{attrs:{columns:t.columns,data:t.pageOrders,stripe:""},on:{"on-row-click":t.checkMore}})],1)],1),t._v(" "),n("Row",{staticClass:"margin-top-30"},[n("Page",{attrs:{current:t.page,total:t.filtedOrders.length,"page-size":t.pageOptions["page-size"],"show-total":""},on:{"update:current":function(e){t.page=e},"on-change":t.handlePage}})],1)],1)],1)],1),t._v(" "),n("Modal",{attrs:{title:"订单详情",width:"400"},model:{value:t.orderDetailModal,callback:function(e){t.orderDetailModal=e},expression:"orderDetailModal"}},[n("Row",{attrs:{type:"flex",justify:"space-between"}},[n("i-col",{attrs:{span:"17"}},[n("p",[t._v("客户: "+t._s(t.checkedOrder.username))])]),t._v(" "),n("i-col",{attrs:{span:"7"}},[n("p",[t._v("桌号: "+t._s(t.checkedOrder.tableId))])])],1),t._v(" "),n("Row",{attrs:{type:"flex",justify:"space-between"}},[n("i-col",{attrs:{span:"17"}},[n("p",[t._v("订单号: "+t._s(t.checkedOrder.id))])]),t._v(" "),n("i-col",{attrs:{span:"7"}},[n("p",[t._v("状态: "+t._s(t.checkedOrder.isPay?t.checkedOrder.finished?"已完成":"未完成":"未支付"))])])],1),t._v(" "),n("Row",{staticClass:"margin-top-10",attrs:{type:"flex",justify:"space-between"}},[n("i-col",{attrs:{span:"17"}},[n("p",[t._v("支付方式: "+t._s(t.checkedOrder.payWay))])]),t._v(" "),n("i-col",{attrs:{span:"7"}},[n("p",[t._v("总价: "+t._s(t.checkedOrder.total)+" 元")])])],1),t._v(" "),n("Row",{staticClass:"margin-bottom-20 bottom-line",attrs:{type:"flex",justify:"space-between"}},[n("i-col",{attrs:{span:"17"}},[n("p",[t._v("支付时间: "+t._s(t.checkedOrder.payDate))])]),t._v(" "),n("i-col",{staticClass:"padding-bottom-10",attrs:{span:"7"}},[n("p",[t._v("实付: "+t._s(t.checkedOrder.due)+" 元")])])],1),t._v(" "),t._l(t.checkedOrder.repackDishes,function(e,i){return n("Row",{key:i,staticClass:"dish-wrap"},[n("i-col",{attrs:{span:"8"}},[n("div",{staticClass:"dish-img-wrapper"},[n("img",{directives:[{name:"show",rawName:"v-show",value:""!==e.dish.img,expression:"content.dish.img !== ''"}],staticClass:"dish-img",attrs:{src:e.dish.img,alt:e.dish.name}})])]),t._v(" "),n("i-col",{attrs:{span:"8"}},[n("Row",[n("h3",[t._v(t._s(e.dish.name))])]),t._v(" "),n("Row",[n("p",{staticClass:"dish-quantity"},[t._v("x "+t._s(e.orderItem.quantity))])])],1),t._v(" "),n("i-col",{attrs:{span:"6",offset:"2"}},[n("Row",[1===e.orderItem.finished?n("p",{staticClass:"dish-finished-true"},[t._v("已完成")]):t._e(),t._v(" "),0===e.orderItem.finished?n("p",{staticClass:"dish-finished-false"},[t._v("未完成")]):t._e()]),t._v(" "),1===e.orderItem.urge?n("Row",[n("p",{staticClass:"dish-urge"},[t._v("已催单")])]):t._e()],1)],1)})],2)],1)},r=[];i._withStripped=!0;var a={render:i,staticRenderFns:r};e.default=a},426:function(t,e,n){"use strict";function i(t){p||n(1013)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(628),a=n.n(r);for(var s in r)"default"!==s&&function(t){n.d(e,t,function(){return r[t]})}(s);var o=n(1015),d=n.n(o),p=!1,c=n(11),l=i,g=c(a.a,d.a,!1,l,null,null);g.options.__file="src/views/order/order.vue",e.default=g.exports},447:function(t,e){t.exports=function(t){return/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t}},451:function(t,e,n){"use strict";e.__esModule=!0;var i=n(49),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=r.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}},453:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNNDU3LjYgMTQwLjJsLTgyLjUtNC00LjgtNTMuOGMtMS0xMS4zLTExLjEtMTkuMi0yMi45LTE4LjNMNTEuNSA4OC40Yy0xMS44IDEtMjAuMyAxMC41LTE5LjQgMjEuN2wyMS4yIDIzNS44YzEgMTEuMyAxMS4yIDE5LjIgMjIuOSAxOC4zbDE1LTEuMi0yLjQgNDUuOGMtLjYgMTIuNiA5LjIgMjIuOCAyMi40IDIzLjVMNDQxLjMgNDQ4YzEzLjIuNiAyNC4xLTguNiAyNC44LTIxLjJMNDgwIDE2My41Yy42LTEyLjUtOS4zLTIyLjctMjIuNC0yMy4zem0tMzU0LjkgNS4zbC03LjEgMTM0LjhMNzguMSAzMDUgNjIgMTI3di0uNS0uNWMxLTUgNC40LTkgOS42LTkuNGwyNjEtMjEuNGM1LjItLjQgOS43IDMgMTAuNSA3LjkgMCAuMi4zLjIuMy40IDAgLjEuMy4yLjMuNGwyLjcgMzAuOC0yMTktMTAuNWMtMTMuMi0uNC0yNC4xIDguOC0yNC43IDIxLjN6bTMzNCAyMzYuOWwtODQuOC05OS41LTM3LjQgMzQuMy02OS4yLTgwLjgtMTIyLjcgMTMwLjdMMTMzIDE2OHYtLjRjMS01LjQgNi4yLTkuMyAxMS45LTlsMjkxLjIgMTRjNS44LjMgMTAuMyA0LjcgMTAuNCAxMC4yIDAgLjIuMy4zLjMuNWwtMTAuMSAxOTkuMXoiIGZpbGw9IiNkZGRlZTEiLz48cGF0aCBkPSJNMzg0IDI1NmMxNy42IDAgMzItMTQuNCAzMi0zMnMtMTQuMy0zMi0zMi0zMmMtMTcuNiAwLTMyIDE0LjMtMzIgMzJzMTQuMyAzMiAzMiAzMnoiIGZpbGw9IiNkZGRlZTEiLz48L3N2Zz4="},628:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(21),a=i(r),s=n(22),o=i(s),d=n(451),p=i(d),c=n(104);e.default={name:"order_index",data:function(){return{spinShow:!1,orderDetailModal:!1,checkedOrder:{},page:1,pageOptions:{"page-size":10},searchId:"",filtedOrders:[],pageOrders:[],columns:[{type:"index",width:50,align:"center"},{title:"时间",key:"payDate",width:150},{title:"订单号",key:"id"},{title:"顾客",key:"username"},{title:"桌号",key:"tableId"},{title:"总价（元）",key:"total"},{title:"折后（元）",key:"due"},{title:"状态",key:"state"}]}},computed:(0,p.default)({},(0,c.mapState)({ordersList:function(t){return t.order.ordersList}})),created:function(){this.spinShow=!0,this.getOrders()},methods:{getOrders:function(){function t(){return e.apply(this,arguments)}var e=(0,o.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("order/getOrdersList");case 2:this.filtedOrders=this.ordersList,this.handlePage(1),this.spinShow=!1;case 5:case"end":return t.stop()}},t,this)}));return t}(),search:function(t,e){var n=t;for(var i in e)!function(t){e[t].length>0&&(n=n.filter(function(n){return n[t].toString().indexOf(e[t])>-1}))}(i);return n},handleSearch:function(){this.filtedOrders=this.search(this.ordersList,{id:this.searchId}),this.page=1,this.handlePage(1)},handlePage:function(t){var e=(t-1)*this.pageOptions["page-size"],n=Math.min(e+this.pageOptions["page-size"],this.filtedOrders.length);this.pageOrders=this.filtedOrders.slice(e,n)},checkMore:function(t){this.orderDetailModal=!0,this.checkedOrder=t}}}}});